<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
  <title>Hydrometer Corrections</title>
  <meta name="description" content="Description of your site goes here">
  <meta name="keywords" content="keyword1, keyword2, keyword3">
  <link href="css/style.css" rel="stylesheet" type="text/css">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
</head>
  <body>
    <div class="container">
      <div class="inner_container">
        <h1>Hydrometer Correction</h1>
        <small>(The correction assumes that the hydrometer gives an accurate reading at 60º F)</small>
        <br><br>
        <form class>
          <label>Specific gravity from your hydrometer:
            <input type="textarea" name="og" placeholder="Measured Gravity">
          </label>
          <br><br>

          <label> Temperature of your liquid:
            <input type="textarea" name="temp" placeholder="Temperature in ºF">
          </label>
          <br><br>
          <input class="button" type="submit" value="Calculate!">
        </form>

        <br>
        <h4 class="result"></h4>

      </div>
    </div>
  </body>
</html>

<script>

  function sgCorrection(og, temp){
    switch (true){
      case temp >= 50 && temp < 60:
        return og -= 0.0005;
        break;
      case temp >= 60 && temp < 70:
        break;
      case temp >= 70 && temp < 77:
        og += 0.001;
        break;
      case temp >= 77 && temp <84:
        og += 0.002;
        break;
      case temp >= 84 && temp <95:
        og += 0.003
        break;
      case temp >= 95 && temp < 105:
        og += 0.005;
        break;
      case temp === 105:
        og += 0.007;
        break;
      default:
        return "Temperature must be in the range between 50ºF and 105ºF";
    }
    round = Math.round(og * 1000) / 1000;
    return round.toFixed(3);
  }


  function isInt(n) {
   parsed = parseFloat(n)
   return typeof parsed === 'number' && parsed > 0;
}

  $(document).ready(function(){
    var result = $(".result");
    result.hide();
    $("form").submit(function(event){
      event.preventDefault();
      // console.log("READY!");
      result.hide();
      og = $('[name="og"]').val();
      temp = $('[name="temp"]').val();

      if(isInt(og)){
        console.log(og, typeof(og), temp, typeof(temp));
        result.text("Adjusted Specific Gravity: " + sgCorrection(og, temp))
        result.show();
      };
      

    });
  });
</script>